<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE database SYSTEM "http://dbflute.org/meta/database.dtd">
<!-- Auto-generated by JDBC task! -->
<database name="">
    <table comment="ドア : ドアの情報を保持する。設置したセンサーの位置によって最小値、最大値を調整する。"
        name="door" schema="doordb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true"
            comment="ドアID : ひとつひとつのドアに割り当てられたID。&#xa;階数+ドアの番号となっている。&#xa;ドアの番号は、部屋の入り口から見て左回りに順番にインクリメント。&#xa;ex: 6階、入って一番右端にあるドアID => 61"
            dbType="INT" javaType="Integer" name="DOOR_ID"
            pkName="PRIMARY" pkPosition="1" primaryKey="true"
            required="true" size="10" type="INTEGER"/>
        <column comment="ドア名 : ドアの名前。お気に入りの名前をつければ愛着が湧くはず。。。"
            dbType="VARCHAR" javaType="String" name="DOOR_NAME"
            size="10" type="VARCHAR"/>
        <column comment="最小値 : ドアが閉まっていると判断する最小値" dbType="INT"
            javaType="Integer" name="MIN" required="true" size="10" type="INTEGER"/>
        <column comment="最大値 : ドアが閉まっていると判断する最大値" dbType="INT"
            javaType="Integer" name="MAX" required="true" size="10" type="INTEGER"/>
    </table>
    <table
        comment="ドアセンサーログ : センサーが取得した距離データを保持する。&#xa;ドアIDと距離から、ドアが開いているかどうかの判定を行い、ドアステータスで管理している。"
        name="door_sensor_log" schema="doordb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true"
            comment="ドアセンサーログID : 連番として自動採番される。" dbType="INT"
            javaType="Integer" name="DOOR_SENSOR_LOG_ID"
            pkName="PRIMARY" pkPosition="1" primaryKey="true"
            required="true" size="10" type="INTEGER"/>
        <column
            comment="ドアID : ひとつひとつのドアに割り当てられたID。&#xa;階数+ドアの番号となっている。&#xa;ドアの番号は、部屋の入り口から見て左回りに順番にインクリメント。&#xa;ex: 6階、入って一番右端にあるドアID => 61"
            dbType="INT" javaType="Integer" name="DOOR_ID"
            required="true" size="10" type="INTEGER"/>
        <column comment="ドアステータス : ドアが閉まっている時がfalse、空いている時がtrue"
            dbType="BIT" javaType="Boolean" name="DOOR_STATUS"
            required="true" type="BIT"/>
        <column
            comment="センサー距離 : ドアとセンサーとの距離。センサーの位置によって空いている、閉まっているの判断基準が変わる。距離だけでは、判断できない。"
            dbType="INT" javaType="Integer" name="SENSOR_DISTANCE"
            required="true" size="10" type="INTEGER"/>
        <column comment="登録日時" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="REGISTER_DATETIME"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="doordb.$$NoNameSchema$$"
            foreignTable="door" name="door_sensor_log_ibfk_1">
            <reference foreign="DOOR_ID" local="DOOR_ID"/>
        </foreign-key>
        <index name="INDEX_DOOR_ID_REGISTER_DATETIME">
            <index-column name="DOOR_ID" position="1"/>
        </index>
    </table>
    <procedureGroup/>
</database>
